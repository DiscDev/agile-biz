{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "AgileAiAgents Core JSON Schema",
  "description": "Core schema for all JSON files generated by Document Manager Agent",
  "type": "object",
  "required": ["meta", "summary", "key_findings"],
  "properties": {
    "meta": {
      "type": "object",
      "required": ["agent", "timestamp", "version"],
      "properties": {
        "agent": {
          "type": "string",
          "description": "Name of the agent that created this document"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 timestamp of document creation"
        },
        "version": {
          "type": "string",
          "pattern": "^\\d+\\.\\d+\\.\\d+$",
          "description": "Semantic version of the document format"
        },
        "source_file": {
          "type": "string",
          "description": "Path to the source markdown file"
        }
      }
    },
    "summary": {
      "type": "string",
      "minLength": 10,
      "maxLength": 500,
      "description": "Brief summary of the document content"
    },
    "key_findings": {
      "type": "object",
      "description": "Primary findings or data points from the document",
      "additionalProperties": true
    },
    "detailed_data": {
      "type": "object",
      "description": "Additional detailed information",
      "properties": {
        "url": {
          "type": "string",
          "description": "Path to the full markdown document"
        }
      },
      "additionalProperties": true
    },
    "decisions": {
      "type": "object",
      "description": "Decisions made or recommendations",
      "properties": {
        "recommendation": {
          "type": "string"
        },
        "confidence": {
          "type": "number",
          "minimum": 0,
          "maximum": 1
        },
        "rationale": {
          "type": "string"
        }
      },
      "additionalProperties": true
    },
    "next_agent_needs": {
      "type": "object",
      "description": "What subsequent agents need from this document",
      "additionalProperties": {
        "type": "array",
        "items": {
          "type": "string"
        }
      }
    },
    "agent_data": {
      "type": "object",
      "description": "Agent-specific data extensions",
      "additionalProperties": true
    }
  }
}